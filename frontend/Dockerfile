FROM node:18-slim

RUN apt-get update && apt-get install -y curl

ARG NEXT_PUBLIC_WEB3MODAL_PROJECT_ID
ARG NEXT_PUBLIC_GIPHY_API_KEY

ENV NEXT_PUBLIC_WEB3MODAL_PROJECT_ID=$NEXT_PUBLIC_WEB3MODAL_PROJECT_ID
ENV NEXT_PUBLIC_GIPHY_API_KEY=$NEXT_PUBLIC_GIPHY_API_KEY

WORKDIR /app

COPY . .
RUN npm install
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]